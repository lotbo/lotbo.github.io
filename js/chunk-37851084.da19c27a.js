(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37851084"],{e472:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:"","grid-list-lg":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card",{attrs:{flat:""}},[r("form",{staticClass:"pa-3"},[r("v-text-field",{attrs:{label:"你需要向合约地址支付",value:"3.00",suffix:"ether",disabled:""}}),r("v-text-field",{attrs:{label:"你的推荐人地址",required:""},model:{value:e.referrer,callback:function(t){e.referrer=t},expression:"referrer"}}),r("v-btn",{staticClass:"ma-0",attrs:{color:"blue"},on:{click:e.submit}},[e._v("确认加入")])],1)]),r("v-tabs",{staticClass:"mt-3",attrs:{grow:"",color:"blue","slider-color":"orange lighten-2"}},[r("v-tab",[e._v("最新加入的经纪人")]),r("v-tabs-items",[r("v-tab-item",[0==e.referrers.length?[r("v-list",[r("v-list-tile",[r("v-list-tile-title",[e._v("没有找到匹配记录")])],1)],1)]:e._e(),e._l(e.referrers,function(t){return[r("v-list",{key:t.account},[r("v-list-tile",[r("v-list-tile-content",[r("v-list-tile-title",[e._v(e._s(t.account))]),r("v-list-tile-sub-title",[e._v("推荐人: "+e._s(t.referrer))])],1)],1),r("v-divider")],1)]})],2)],1)],1)],1)],1)],1)},i=[],n=(r("cadf"),r("551c"),r("097d"),{name:"Broker",data:function(){return{account:"",referrer:this.$route.params.referrer,referrers:[]}},created:function(){var e=this,t=e.ethereum.contract("LotboBroker");t.Signup(null,{fromBlock:6353004,toBlock:"latest"}).get(function(t,r){!t&&r.length>0&&r.filter(function(t){e.$data.referrers.push({account:t.args.account,referrer:t.args.referrer})})})},methods:{submit:function(){var e=this;e.ethereum.eth.getAccounts(function(t,r){if(!t){if(e.$data.account=r[0],""==e.$data.referrer)return alert("推荐人账户地址不能为空"),!1;if(!e.ethereum.isAddress(e.$data.referrer))return alert("推荐人账户地址错误"),!1;var a=e.ethereum.contract("LotboBroker");a.exists.call(e.$data.referrer,function(t,r){if(t||!r)return alert("推荐人账户地址不存在"),!1;a.signup.sendTransaction(e.$data.account,e.$data.referrer,{from:e.$data.account,value:e.ethereum.toWei("3","ether")},function(e,t){e||console.log(t)})})}})}}}),s=n,l=(r("f579"),r("2877")),o=Object(l["a"])(s,a,i,!1,null,"38499662",null);o.options.__file="Broker.vue";t["default"]=o.exports},efe4:function(e,t,r){},f579:function(e,t,r){"use strict";var a=r("efe4"),i=r.n(a);i.a}}]);