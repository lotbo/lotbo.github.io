(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d697c"],{"72e0":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-tabs",{staticClass:"ma-3",attrs:{grow:"",color:"red lighten-2","slider-color":"blue"}},[a("v-tab",{attrs:{href:"#tab-1"}},[t._v("超级大乐透（第 "+t._s(t.roundNumber)+" 期）")]),a("v-tabs-items",[a("v-tab-item",{attrs:{value:"tab-1"}},[a("v-card",{attrs:{flat:""}},[a("div",{staticClass:"pa-3"},[a("v-select",{attrs:{items:t.selectItems,label:"主码",attach:"",chips:"",multiple:""},on:{input:t.checkNumbers},model:{value:t.numbers,callback:function(e){t.numbers=e},expression:"numbers"}}),a("v-select",{attrs:{items:t.selectItems,attach:"",chips:"",label:"拖码"},model:{value:t.powerball,callback:function(e){t.powerball=e},expression:"powerball"}}),a("v-text-field",{attrs:{label:"单注：",suffix:"ether",disabled:""},model:{value:t.purchasePrice,callback:function(e){t.purchasePrice=e},expression:"purchasePrice"}}),a("v-btn",{staticClass:"ma-0",attrs:{color:"red lighten-2",loading:t.loading},on:{click:t.purchase}},[t._v("我要投注")])],1)]),a("v-tabs",{staticClass:"mt-3",attrs:{grow:"",color:"red lighten-2","slider-color":"blue"}},[a("v-tab",{attrs:{href:"#bets"}},[t._v("我的投注")]),a("v-tab",{attrs:{href:"#history"}},[t._v("开奖记录")]),a("v-tabs-items",[a("v-tab-item",{attrs:{value:"bets"}},[a("v-data-table",{attrs:{headers:t.purchased.headers,items:t.purchased.items,pagination:t.purchased.pagination},on:{"update:pagination":function(e){t.$set(t.purchased,"pagination",e)}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",[a("td",{staticClass:"ma-0 px-2"},[t._v(t._s(e.item.ticketNumber))]),a("td",{staticClass:"ma-0 px-2"},[t._v(t._s(e.item.roundNumber))]),a("td",{staticClass:"ma-0 px-2"},[t._v(t._s(e.item.numbers))]),a("td",{staticClass:"ma-0 px-2"},[t._v(t._s(e.item.powerball))])])]}}])})],1),a("v-tab-item",{attrs:{value:"history"}},[a("v-data-table",{attrs:{headers:t.history.headers,items:t.history.items,pagination:t.history.pagination},on:{"update:pagination":function(e){t.$set(t.history,"pagination",e)}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",[a("td",{staticClass:"ma-0 px-2"},[t._v(t._s(e.item.roundNumber))]),a("td",{staticClass:"ma-0 px-2"},[t._v(t._s(e.item.numbers))]),a("td",{staticClass:"ma-0 px-2"},[t._v(t._s(e.item.powerball))])])]}}])})],1)],1)],1)],1)],1)],1)},s=[],n=(a("cadf"),a("551c"),a("097d"),{name:"Game1",data:function(){return{loading:!1,purchasePrice:0,roundNumber:0,numbers:[],powerball:null,selectItems:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],account:0,referrer:this.$route.params.referrer,referralUrl:"",purchased:{headers:[{text:"票号",value:"ticketNumber",class:"ma-0 px-2"},{text:"期数",value:"roundNumber",sortable:!1,class:"ma-0 px-2"},{text:"主码",value:"numbers",sortable:!1,class:"ma-0 px-2"},{text:"拖码",value:"powerball",sortable:!1,class:"ma-0 px-2"}],items:[],pagination:{descending:!0,sortBy:"ticketNumber"}},history:{headers:[{text:"期数",value:"roundNumber",class:"ma-0 px-2"},{text:"主码",value:"numbers",sortable:!1,class:"ma-0 px-2"},{text:"拖码",value:"powerball",sortable:!1,class:"ma-0 px-2"}],items:[],pagination:{descending:!0,sortBy:"ticketNumber"}}}},created:function(){var t=this;t.ethereum.eth.getAccounts(function(e,a){if(!e){t.$data.account=a[0];var r=t.ethereum.contract("LotboGameTwo");r.lastRoundNumber.call(function(e,a){!e&&a&&(t.$data.roundNumber=a.toNumber(),r.getRoundInfo.call(t.$data.roundNumber,function(t,e){!t&&e&&console.log(e)}))}),r.options.call(function(e,a){!e&&a&&(t.$data.purchasePrice=t.ethereum.fromWei(a[5]))}),r.Purchased({player:t.$data.account},{fromBlock:6766569,toBlock:"latest"}).get(function(e,a){var s=function(){var e=a[n].args.roundNumber,s=a[n].args.ticketNumber;r.getTicketInfo.call(e,s,function(a,r){!a&&r&&t.$data.purchased.items.push({roundNumber:e.toNumber(),ticketNumber:s.toNumber(),numbers:r[0]+" "+r[1]+" "+r[2]+" "+r[3],powerball:r[4].toNumber()})})};for(var n in a)s()})}})},methods:{checkNumbers:function(){var t=this;t.$data.numbers.length>4&&t.$data.numbers.shift()},purchase:function(){var t=this;return t.$data.loading=!0,t.$data.numbers.length<4?(alert("必须选择 4 个主码哦！"),t.$data.loading=!1,!1):t.$data.numbers.length>4?(alert("只能选择 4 个主码哦！"),t.$data.loading=!1,!1):void t.ethereum.eth.getAccounts(function(e,a){if(!e){t.$data.account=a[0];var r=t.ethereum.contract("LotboGameTwo");r.purchase.sendTransaction(t.$data.numbers,t.$data.powerball,t.$data.referrer,{from:t.$data.account,value:t.ethereum.toWei(t.$data.purchasePrice)},function(e,a){e||(console.log(a),t.$data.loading=!1)})}})}}}),o=n,l=a("2877"),i=Object(l["a"])(o,r,s,!1,null,null,null);i.options.__file="Game2.vue";e["default"]=i.exports}}]);